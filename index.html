<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chart.js with Local CSV Data</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <canvas id="myChart" width="400" height="400"></canvas>

  <script>
    // Step 1: Read the CSV Data (using Fetch API)
    fetch('data.csv')
      .then(response => response.text())
      .then(csvData => {
        // Step 2: Parse the Data
        const data = processData(csvData);

        // Step 3: Create the Chart
        const ctx = document.getElementById('myChart').getContext('2d');
        const myChart = new Chart(ctx, {
          type: 'line',
          data: data
        });
      });

    // Function to parse CSV data
    function processData(csvData) {
      // Parse CSV data into array or object format required by Chart.js
      // Example: Use Papa Parse library or manual parsing
      // Here's a simplified manual parsing example:
      const rows = csvData.trim().split('\n');
      const labels = rows[0].split(','); // Assuming first row contains labels
      const datasets = [];

      for (let i = 1; i < rows.length; i++) {
        const values = rows[i].split(',');
        const dataset = {
          label: values[0], // Assuming first column contains dataset labels
          data: values.slice(1).map(parseFloat) // Assuming remaining columns contain numeric data
        };
        datasets.push(dataset);
      }

      return {
        labels: labels.slice(1), // Exclude first column as it's assumed to be labels
        datasets: datasets
      };
    }
  </script>
</body>
</html>
